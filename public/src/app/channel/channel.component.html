<!-- <p>channel works!</p>
<h1>Channel Name: {{ChannelInfo.name}}</h1>
<h6 >messages {{ChannelInfo.messages}}</h6>
<h1>owner: {{ChannelInfo.owner}}</h1>
<h1>Members:</h1>
<div *ngFor="let member of ChannelInfo.members">
  <h3>{{member}}</h3>
</div>
<h1>Messages:</h1>
<div *ngFor="let message of ChannelInfo.messages">
  <p>{{message.userName}}: {{message.message}} at {{message.time}}</p>
</div>
<form>
  <input type="text" name="message" [(ngModel)]="message">
  <button (click)="SendMessage()">Send</button>
</form>

<button *ngIf="owner" (click)="NewUserButton()"> Add Member</button>
<div *ngIf="NewUserForm">
  <form>
    <input type="text" name="Nmember" [(ngModel)]="Nmember">
    <button (click)="NewMember(Nmember)">Add</button>
  </form>

</div> -->


<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <!-- ---------------navgation ------------------- -->
  <nav class="navbar fixed-top navbar-expand-lg fixed-top" style="background-color: white;">
      <div class="container">
        <a class="navbar-brand text-primary" href="index.html">Start Bootstrap</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
          data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link text-primary"  *ngIf="_auth.loggedIn()" [routerLink]="['/dashboard']">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-primary"  *ngIf="!_auth.loggedIn()" href="#">LogIn</a>
              <a class="nav-link text-primary"  *ngIf="_auth.loggedIn()" (click)="_auth.logoutUser()" [routerLink]="['/']">Logout</a>       
               </li>
          </ul>
        </div>
      </div>
    </nav>


  <div>
    <h2>     {{ChannelInfo.name}} Channel</h2>
    <div class="detailBox">
      <div class="titleBox">
        <label> Chating </label>
      </div>
      <div class="actionBox">
        <div class="mesgs">
          <div *ngIf = "checkNoMsg()">
          <div class="msg_history scrol">
            <div  *ngFor="let message of ChannelInfo.messages">
            <!-- --------------------------------recive and going msg ----------------------------------------- -->
            <!-- ---------------------------------------------------------------------------------------------- -->

            <!-- <div *ngFor="let message of ChannelInfo.messages">
              <p>{{message.userName}}: {{message.message}} at {{message.time}}</p>
             </div> -->

            <!-- <div *ngIf="checkMsgFrom(message.userName)"> -->
           <div  *ngIf="message.message">
            <div *ngIf="checkMsgFrom(message.userName)">
              <!-- this div for reciving msg -->
              <p class="incoming_msg">{{message.userName}}:</p>
              <div class="received_msg" >
                <div class="received_withd_msg">
                  <p>{{message.message}}</p>
                  <span class="time_date"> {{message.time}}</span>
                </div>
              </div>
            </div>
            <!-- </div> -->
            
            <div class="outgoing_msg" *ngIf="!checkMsgFrom(message.userName)" >
              <!-- this div for send  msg -->
              <div class="sent_msg">
                <p>{{message.message}}</p>
                <span class="time_date"> {{message.time}}</span>
              </div>
            </div>
            </div>
            </div>
          </div>
            
          </div>
          <div *ngIf="!checkNoMsg()" class="msg_history scrol">
              <p>Send your thoughts</p>
  
          </div>
          <!-- </div> -->


          <div class="type_msg">
            <div class="input_msg_write">
              <input type="text" class="write_msg" placeholder="Type a message" name="message" [(ngModel)]="message" />
              <button class="msg_send_btn" type="button" (click)="SendMessage()"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- ----------------------------------------------------------- -->
    <div class="videoBox">
      <div class="titleBox" style="margin-left:10px">
        <label>Video </label>

      </div>

      <div class="actionBox">


      </div>
    </div>

    <!-- ------------------------------------------ -->
    <div class="MembersBox">
      <div class="titleBox" style="margin-left:10px">
        <label>Members</label>

      </div>

      <div class="actionBox">

          

        <button class="btn btn-outline-success btn-sm" *ngIf="owner" (click)="NewUserButton()" type="button"><i class="fa fa-user-plus" aria-hidden="true"></i>
          Add user</button>
          <div *ngIf="NewUserForm">
              <form>
                <input type="text" name="Nmember" [(ngModel)]="Nmember">
                <button (click)="NewMember(Nmember)">Add</button>
              </form>
            
          </div>
          <div *ngFor="let member of ChannelInfo.members">
            <p *ngIf="checkUser(member)">{{member}}</p>
          </div>

      </div>
    </div>
  </div>
  <!-- -------------------------------------------------------------------- -->

</body>

</html>
